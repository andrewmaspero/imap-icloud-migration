# Copy this file to `.env` and fill in values.
#
# All variables are validated with Pydantic Settings.
# Prefix: MIG_
# Nested delimiter: __

# iCloud IMAP
MIG_IMAP__USERNAME="your_icloud_email_or_alias@example.com"
MIG_IMAP__APP_PASSWORD="xxxx-xxxx-xxxx-xxxx"
MIG_IMAP__HOST="imap.mail.me.com"
MIG_IMAP__PORT=993
MIG_IMAP__SSL=true

# Gmail API (OAuth installed-app)
# Note: for `migrate --dry-run` (and for `verify` / `report`), you can omit the Gmail section entirely.
MIG_GMAIL__TARGET_USER_EMAIL="your_workspace_user@yourdomain.com"
# OAuth client secrets JSON you download from Google Cloud Console
MIG_GMAIL__CREDENTIALS_FILE="/absolute/path/to/oauth-client.json"
# Token cache (created after first OAuth run)
MIG_GMAIL__TOKEN_FILE="/absolute/path/to/gmail-token.json"
MIG_GMAIL__MODE="import" # import | insert
MIG_GMAIL__INTERNAL_DATE_SOURCE="dateHeader" # dateHeader | receivedTime
MIG_GMAIL__LABEL_PREFIX="iCloud"

# Output root
MIG_STORAGE__ROOT_DIR="/absolute/path/to/data"

# Optional: filter the mailbox so only messages tied to these addresses are migrated.
# This is how you migrate only a custom-domain alias from the iCloud mailbox you authenticated with.
# JSON list (recommended) or comma-separated string.
# MIG_FILTER__TARGET_ADDRESSES='["your_alias@example.com"]'
# MIG_FILTER__INCLUDE_SENDER=true
# MIG_FILTER__INCLUDE_RECIPIENTS=true


